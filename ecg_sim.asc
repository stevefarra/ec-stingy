Version 4
SHEET 1 2600 860
WIRE -496 -240 -528 -240
WIRE 224 -128 208 -128
WIRE 784 -128 768 -128
WIRE 896 -128 784 -128
WIRE 1008 -128 896 -128
WIRE 784 -112 784 -128
WIRE 224 -64 208 -64
WIRE 896 -64 896 -128
WIRE 1008 -64 1008 -128
WIRE 224 -48 224 -64
WIRE -496 -16 -528 -16
WIRE 784 -16 784 -32
WIRE 784 -16 768 -16
WIRE 784 0 784 -16
WIRE 224 32 208 32
WIRE -496 64 -528 64
WIRE 224 64 224 32
WIRE 224 64 208 64
WIRE 784 80 784 64
WIRE 896 80 896 16
WIRE 896 80 784 80
WIRE 1008 80 1008 0
WIRE 1008 80 896 80
WIRE 896 96 896 80
WIRE 1392 160 1376 160
WIRE 1392 192 1376 192
WIRE 1392 224 1376 224
WIRE 944 240 928 240
WIRE 944 256 944 240
WIRE 1392 256 1376 256
WIRE 1696 256 1680 256
WIRE 176 288 160 288
WIRE 1392 288 1376 288
WIRE 1696 288 1680 288
WIRE -592 304 -608 304
WIRE -368 304 -592 304
WIRE -592 320 -592 304
WIRE -368 320 -368 304
WIRE 1392 320 1376 320
WIRE 1696 320 1680 320
WIRE 176 352 160 352
WIRE 944 352 944 336
WIRE 944 352 928 352
WIRE 1392 352 1376 352
WIRE 1696 352 1680 352
WIRE 176 368 176 352
WIRE 944 368 944 352
WIRE 1392 384 1376 384
WIRE 1696 384 1680 384
WIRE -592 416 -592 400
WIRE -592 416 -608 416
WIRE -368 416 -368 400
WIRE -368 416 -384 416
WIRE 1392 416 1376 416
WIRE 1696 416 1680 416
WIRE -592 432 -592 416
WIRE -368 432 -368 416
WIRE 176 448 160 448
WIRE 1392 448 1376 448
WIRE 1696 448 1680 448
WIRE 944 464 944 448
WIRE 944 464 928 464
WIRE -592 528 -592 512
WIRE -592 528 -608 528
WIRE -368 528 -368 512
WIRE -368 528 -384 528
FLAG -528 -16 LA
FLAG -496 -160 0
FLAG -528 -240 +VS
FLAG 1376 192 +IN
FLAG 1376 224 -IN
FLAG -608 304 +VS
FLAG -608 416 LA
FLAG 1376 160 HPDRIVE
FLAG 1376 256 RLDFB
FLAG 1376 288 RLD
FLAG 1696 320 0
FLAG 1696 352 +VS
FLAG 1696 448 HPSENSE
FLAG 768 -16 +VS
FLAG 768 -128 REFIN
FLAG 1696 384 REFIN
FLAG 1696 288 +VS
FLAG 1376 320 SW
FLAG 1376 352 OPAMP+
FLAG 1376 384 REFOUT
FLAG 1696 416 IAOUT
FLAG 1376 416 OPAMP-
FLAG 1376 448 OUT
FLAG -528 64 RA
FLAG 896 96 0
FLAG 208 -128 HPDRIVE
FLAG 208 -64 HPSENSE
FLAG 160 288 RLDFB
FLAG 160 352 RLD
FLAG 160 448 RL
FLAG 208 32 IAOUT
FLAG 1696 256 0
FLAG 208 64 OPAMP+
FLAG -608 528 +IN
FLAG -384 416 RA
FLAG -384 528 -IN
FLAG 928 352 OPAMP-
FLAG 928 464 REFOUT
FLAG 928 240 OUT
SYMBOL voltage -496 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL file=ecg.txt
SYMBOL voltage -496 -256 R0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL AD8232 1536 304 R0
SYMATTR InstName U1
SYMBOL res -608 304 R0
SYMATTR InstName R2
SYMATTR Value 10Meg
SYMBOL res 768 -128 R0
SYMATTR InstName R7
SYMATTR Value 10Meg
SYMBOL cap 768 0 R0
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL res 880 -80 R0
SYMATTR InstName R8
SYMATTR Value 10Meg
SYMBOL cap 992 -64 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL cap 208 -128 R0
SYMATTR InstName C5
SYMATTR Value 0.22µF
SYMBOL cap 160 288 R0
SYMATTR InstName C1
SYMATTR Value 1nF
SYMBOL res 160 352 R0
SYMATTR InstName R5
SYMATTR Value 360k
SYMBOL res 208 -64 R0
SYMATTR InstName R10
SYMATTR Value 10Meg
SYMBOL res -608 416 R0
SYMATTR InstName R4
SYMATTR Value 180k
SYMBOL res -384 304 R0
SYMATTR InstName R1
SYMATTR Value 10Meg
SYMBOL res -384 416 R0
SYMATTR InstName R9
SYMATTR Value 180k
SYMBOL res 928 240 R0
SYMATTR InstName R11
SYMATTR Value 50k
SYMBOL res 928 352 R0
SYMATTR InstName R12
SYMATTR Value 5.1k
TEXT 1488 -32 Left 2 !.tran 10s
TEXT 1672 -280 Left 2 ;https://groups.io/g/LTspice/topic/unable_to_simulate_ad8232/79199405?p=
TEXT -640 -320 Left 2 ;Device power supply.\nSourced from external voltage regulator
TEXT -648 -104 Left 2 ;Simulated ECG signal.\nGenerated by gen_ecg.m
TEXT -688 192 Left 2 ;Input terminal resistors provide input bias\nwhile supply-connected resistors set\nmidscale voltage reference (see fig. 64).
TEXT 8 208 Left 2 ;Right leg drive amplifier\nto improve common mode rejection.
TEXT -88 -320 Left 2 ;Output of in-amp is fed into 7 Hz active low pass filter.\n- Reduces baseline wander, which improves signal range\nand reduces chance of clipping\n- Makes the QRS complex more pronounced, ideal for\nheartrate detection
TEXT 728 160 Left 2 ;Final gain stage improves\nresolution of signal when read by ADC.
