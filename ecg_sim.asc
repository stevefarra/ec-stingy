Version 4
SHEET 1 2600 860
WIRE -496 -240 -528 -240
WIRE 112 -96 96 -96
WIRE 496 -48 480 -48
WIRE 608 -48 496 -48
WIRE 720 -48 608 -48
WIRE 112 -32 96 -32
WIRE 496 -32 496 -48
WIRE -496 -16 -528 -16
WIRE 112 -16 112 -32
WIRE 608 16 608 -48
WIRE 720 16 720 -48
WIRE -496 64 -528 64
WIRE 112 64 96 64
WIRE 496 64 496 48
WIRE 496 64 480 64
WIRE 496 80 496 64
WIRE 112 96 112 64
WIRE 112 96 96 96
WIRE 496 160 496 144
WIRE 608 160 608 96
WIRE 608 160 496 160
WIRE 720 160 720 80
WIRE 720 160 608 160
WIRE 608 176 608 160
WIRE 1040 176 1024 176
WIRE 1040 208 1024 208
WIRE 1040 240 1024 240
WIRE 1040 272 1024 272
WIRE 1344 272 1328 272
WIRE -592 304 -608 304
WIRE -368 304 -592 304
WIRE 1040 304 1024 304
WIRE 1344 304 1328 304
WIRE -592 320 -592 304
WIRE -368 320 -368 304
WIRE 80 320 64 320
WIRE 656 320 640 320
WIRE 656 336 656 320
WIRE 1040 336 1024 336
WIRE 1344 336 1328 336
WIRE 1040 368 1024 368
WIRE 1344 368 1328 368
WIRE 80 384 64 384
WIRE 80 400 80 384
WIRE 1040 400 1024 400
WIRE 1344 400 1328 400
WIRE -592 416 -592 400
WIRE -592 416 -608 416
WIRE -368 416 -368 400
WIRE -368 416 -384 416
WIRE -592 432 -592 416
WIRE -368 432 -368 416
WIRE 656 432 656 416
WIRE 656 432 640 432
WIRE 1040 432 1024 432
WIRE 1344 432 1328 432
WIRE 656 448 656 432
WIRE 1040 464 1024 464
WIRE 1344 464 1328 464
WIRE 80 480 64 480
WIRE -592 528 -592 512
WIRE -592 528 -608 528
WIRE -368 528 -368 512
WIRE -368 528 -384 528
WIRE 656 544 656 528
WIRE 656 544 640 544
FLAG -528 -16 LA
FLAG -496 -160 0
FLAG -528 -240 +VS
FLAG 1024 208 +IN
FLAG 1024 240 -IN
FLAG -608 304 +VS
FLAG -608 416 LA
FLAG 1024 176 HPDRIVE
FLAG 1024 272 RLDFB
FLAG 1024 304 RLD
FLAG 1344 336 0
FLAG 1344 368 +VS
FLAG 1344 464 HPSENSE
FLAG 480 64 +VS
FLAG 480 -48 REFIN
FLAG 1344 400 REFIN
FLAG 1344 304 +VS
FLAG 1024 336 SW
FLAG 1024 368 OPAMP+
FLAG 1024 400 REFOUT
FLAG 1344 432 IAOUT
FLAG 1024 432 OPAMP-
FLAG 1024 464 OUT
FLAG -528 64 RA
FLAG 608 176 0
FLAG 96 -96 HPDRIVE
FLAG 96 -32 HPSENSE
FLAG 64 320 RLDFB
FLAG 64 384 RLD
FLAG 64 480 RL
FLAG 96 64 IAOUT
FLAG 1344 272 0
FLAG 96 96 OPAMP+
FLAG -608 528 +IN
FLAG -384 416 RA
FLAG -384 528 -IN
FLAG 640 432 OPAMP-
FLAG 640 544 REFOUT
FLAG 640 320 OUT
SYMBOL voltage -496 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL file=ecg.txt
SYMBOL voltage -496 -256 R0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL AD8232 1184 320 R0
SYMATTR InstName U1
SYMBOL res -608 304 R0
SYMATTR InstName R2
SYMATTR Value 10Meg
SYMBOL res 480 -48 R0
SYMATTR InstName R7
SYMATTR Value 10Meg
SYMBOL cap 480 80 R0
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL res 592 0 R0
SYMATTR InstName R8
SYMATTR Value 10Meg
SYMBOL cap 704 16 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL cap 96 -96 R0
SYMATTR InstName C5
SYMATTR Value 0.22µF
SYMBOL cap 64 320 R0
SYMATTR InstName C1
SYMATTR Value 1nF
SYMBOL res 64 384 R0
SYMATTR InstName R5
SYMATTR Value 360k
SYMBOL res 96 -32 R0
SYMATTR InstName R10
SYMATTR Value 10Meg
SYMBOL res -608 416 R0
SYMATTR InstName R4
SYMATTR Value 180k
SYMBOL res -384 304 R0
SYMATTR InstName R1
SYMATTR Value 10Meg
SYMBOL res -384 416 R0
SYMATTR InstName R9
SYMATTR Value 180k
SYMBOL res 640 320 R0
SYMATTR InstName R11
SYMATTR Value 50k
SYMBOL res 640 432 R0
SYMATTR InstName R12
SYMATTR Value 5.1k
TEXT 1136 -16 Left 2 !.tran 10s
TEXT 1672 -280 Left 2 ;https://groups.io/g/LTspice/topic/unable_to_simulate_ad8232/79199405?p=
TEXT -640 -320 Left 2 ;Device power supply.\nSourced from external voltage regulator
TEXT -648 -104 Left 2 ;Simulated ECG signal.\nGenerated by gen_ecg.m
TEXT -688 192 Left 2 ;Input terminal resistors provide input bias\nwhile supply-connected resistors set\nmidscale voltage reference (see fig. 64).
TEXT -88 240 Left 2 ;Right leg drive amplifier\nto improve common mode rejection.
TEXT 408 -248 Left 2 ;Output of in-amp is fed into 7 Hz active low pass filter.\n- Reduces baseline wander, which improves signal range\nand reduces chance of clipping\n- Makes the QRS complex more pronounced, ideal for\nheartrate detection
TEXT 440 240 Left 2 ;Final gain stage improves\nresolution of signal when read by ADC.
